<!DOCTYPE html>
<head>
    <title>Painting Car</title>
    <meta charset="utf-8">
    <style>
        .show{
            display:inherit;
        }

        .hide{
            display: none;
        }
    </style>
</head>

<body>
    <title>Robot WIFI</title>

    <div class='col-12 p-3 bg-primary' style='color: white;'>
        <i class='fas fa-robot'></i>
        <span>Painting Kart</span>
        <i class="fas fa-car"></i>
        
    </div>

    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css' integrity='sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65' crossorigin='anonymous'>
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.15.4/css/all.css' integrity='sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm' crossorigin='anonymous'/>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'>
    
    <script>
        var ip = "";
        var xhttp = new XMLHttpRequest();
        var db;

        window.onload = function(){
            
        }

        function login(){
            fetch("db/data.json").then((res) => {
                return res.json()
            })
            .then((data) => {
                var users = data.users
                var username = document.getElementById("")

                for (let i = 0; i < users.length; i++) {
                    if(users[i].username == )
                }

                console.log(data.users)
            })
            
        }

        

        

        const args = {
            //Comandos
            forward:'forward',
            stop:'stop',
            rightturn:'rightturn',
            leftturn:'leftturn',
            reverse:'reverse'

        }
        function getsend(arg) {
            //Enviar comando
             xhttp.open('GET', "http://" + ip + "/" + arg +'?' + new Date().getTime(), true); 
             xhttp.send(); 
        }
        
        
    </script>
    <div class="container p-3 show" id="login">
        <div class="row">
            <div class="col-md-4 mx-auto">
                <div class="card card-body">
                        <div class="alert alert-warning alert-dismissible fade show" role="alert">
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
    
                        <div class="form-group p-2">
                            <p>Nombre de usuario:</p>
                            <input class="form-control" type="text" name="username" value="" placeholder="Ingrese su usuario aquí">
                        </div>
    
                        <div class="form-group p-2">
                            <p>Contraseña:</p>
                            <input class="form-control" type="password" name="password" value="" placeholder="Ingrese su contraseña aquí">
                        </div>
    
                        <div class="form-group p-2">
                            <button class="btn btn-success col-12" id="login" onclick="login();">Log In</button>
                        </div>
                </div>
            </div>
        </div>
    </div>

    <div class='container p-3 hide' id="app">
    <div class="row d-flex justify-content-center">
        <div class="col-6 text-center">
            Cámara en robot móvil
            <IMG SRC='http://192.168.0.103:81/stream' style='width:500px; transform:rotate(0deg)'>
                <div class="row d-flex justify-content-center">
                    <label>IP:</label>
                    <input type="text">
                </div>
                <div class='row d-flex justify-content-center'>
                    <button class='col-auto btn btn-large btn-primary m-1' id='forward' onmouseup='getsend(args.stop)' onmousedown='getsend(args.forward)'  ontouchstart='getsend(args.forward)'>
                        <p class="p-0 m-0">Forward</p>
                        <i class="p-0 m-0 fas fa-caret-up fa-lg"></i>
                    </button> 
                </div>
            
                <div class='row d-flex justify-content-center'>
                    <button class='col-auto btn btn-large btn-primary m-1' onmousedown='getsend(args.leftturn)' onmouseup='getsend(args.stop)'  ontouchstart='getsend(args.leftturn)'>
                        <span class="p-0 m-0">&nbsp;Left&nbsp;</span> 
                        <i class="p-0 m-0 fas fa-caret-left fa-lg"></i>
                    </button>
                    <div class='col-1'>
                    </div>
                    <button id='rightTurn' class='col-auto btn btn-large btn-primary m-1' onmouseup='getsend(args.stop)' onmousedown='getsend(args.rightturn)'  ontouchstart='getsend(args.rightturn)'>
                        <i class="p-0 m-0 fas fa-caret-right fa-lg"></i>
                        <span class="p-0 m-0">Right</span>
                        
                    </button>
                </div>
            
                <div class='row d-flex justify-content-center'>
                    <button id='reverse' class='col-auto btn btn-large btn-primary m-1' onmousedown='getsend(args.reverse)' onmouseup='getsend(args.stop)' ontouchstart='getsend(args.reverse)'>
                        <i class="p-0 m-0 fas fa-caret-down fa-lg"></i>
                        <p class="p-0 m-0">Reverse</p>
                        
                    </button>
                </div>
        </div>
        <div class="col-6 text-center">
            Cámara en lienzo fija
            <IMG SRC='http://192.168.0.102:8080/video' style='width:500px;'>
                <div class="row d-flex justify-content-center">
                    <label>IP:</label>
                    <input type="text">
                </div>
        </div>
    </div>
    <div class='row d-flex justify-content-center'>
        
        
    </div>
        

    
    </div>
    

    
    
    
</p>

</body>
